<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Typing Game - Party System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="invite-notification" class="hidden">
        <p><span id="inviter-name">---</span> さんから招待が届きました！</p>
        <div class="invite-btns">
            <button id="accept-invite-btn" class="success-btn">入る</button>
            <button id="decline-invite-btn" class="danger-btn">拒否</button>
        </div>
    </div>

    <div id="app-container">
        <main id="game-main">
            <header>
                <h1>Typing Game</h1>
            </header>
            
            <div id="typing-screen">
                <div id="mode-selection">
                    <button class="mode-btn" id="single-play-btn">一人でプレイ</button>
                    <button class="mode-btn" id="friend-play-btn">フレンドとプレイ</button>
                </div>
            </div>
        </main>

        <aside id="right-sidebar">
            <section class="sidebar-section">
                <h2>プロフィール</h2>
                <div class="card">
                    <p><strong>名前:</strong> <span id="display-name">---</span></p>
                    <div class="input-group">
                        <input type="text" id="name-input" placeholder="名前を変更">
                        <button id="update-name-btn">更新</button>
                    </div>
                    <div class="code-box">
                        <code id="my-friend-code">--------</code>
                    </div>
                </div>
            </section>

            <section class="sidebar-section">
                <div class="header-flex">
                    <h2>フレンド</h2>
                    <span id="friend-count-badge">0</span>
                </div>
                <div class="input-group">
                    <input type="text" id="target-code-input" placeholder="8桁コードで追加" maxlength="8">
                    <button id="send-request-btn">追加</button>
                </div>
                <ul id="friend-list"></ul>
            </section>

            <section class="sidebar-section" id="party-section">
                <h2>パーティー</h2>
                <div id="party-container" class="card">
                    <div id="no-party-msg">パーティーに参加していません</div>
                    <div id="party-info" class="hidden">
                        <div id="party-member-list">
                            </div>
                        <div id="party-controls" class="margin-top">
                            </div>
                    </div>
                </div>
            </section>
        </aside>
    </div>

    <script type="importmap">
        {
          "imports": {
            "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
            "firebase/database": "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js"
          }
        }
    </script>
    <script type="module" src="script.js"></script>
</body>
</html>
